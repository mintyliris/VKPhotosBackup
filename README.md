# VK Photos Backup

Программа для автоматической загрузки фотографий из профиля VK на Яндекс.Диск.

## Возможности

- Загрузка фотографий из профиля VK
- Сортировка фотографий по количеству лайков
- Загрузка на Яндекс.Диск в указанную папку
- Отображение прогресса загрузки
- Подробное логирование процесса
- Сохранение информации о загруженных фотографиях в JSON

## Требования

- Python 3.6+
- Доступ к интернету
- Токен доступа VK API
- Токен доступа Яндекс.Диска

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/vk-photos-backup.git
cd vk-photos-backup
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `config.py` и добавьте в него:
```python
VK_ACCESS_TOKEN = 'ваш_токен_vk'
VK_API_VERSION = '5.131'
YANDEX_DISK_UPLOAD_URL = 'https://cloud-api.yandex.net/v1/disk/resources/upload'
SECRET_KEY = 'ваш_секретный_ключ'
```

## Использование

1. Запустите сервер:
```bash
python main.py
```

2. Откройте браузер и перейдите по адресу `http://localhost:8080`

3. Введите:
   - ID пользователя VK
   - Токен Яндекс.Диска
   - (Опционально) Название папки на Яндекс.Диске

4. Нажмите "Загрузить фотографии"

## Структура проекта

```
vk-photos-backup/
├── main.py              # Основной файл приложения
├── config.py           # Конфигурационный файл
├── requirements.txt    # Зависимости проекта
├── templates/         # Шаблоны HTML
│   └── index.html     # Главная страница
├── vk_photos/        # Временная папка для фотографий
├── app.log           # Лог-файл
└── uploaded_photos.json  # Информация о загруженных фотографиях
```

## Получение токенов

### Токен VK API
1. Перейдите на [VK Developers](https://vk.com/dev)
2. Создайте новое приложение
3. Получите токен доступа с правами на чтение фотографий

### Токен Яндекс.Диска
1. Перейдите на [Яндекс.Диск API](https://yandex.ru/dev/disk/rest/)
2. Получите OAuth-токен с правами на запись

## Логирование

Программа ведет подробный лог всех операций в файле `app.log`. Лог содержит:
- Информацию о начале и завершении загрузки
- Ошибки при работе с API
- Статус загрузки каждой фотографии
- Информацию о создании папок

## Обработка ошибок

Программа обрабатывает следующие ошибки:
- Неверный ID пользователя VK
- Приватный профиль
- Ошибки авторизации
- Проблемы с доступом к API
- Ошибки при загрузке файлов

## Лицензия

MIT License 